<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.551">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Erika Delorme, Marcela Flaherty, Riddha Tuladhar, Edwin Yeung">

<title>Predicting Fatalities from Tornado Data (Group 1)</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="tornado_fatalities_predictor_files/libs/clipboard/clipboard.min.js"></script>
<script src="tornado_fatalities_predictor_files/libs/quarto-html/quarto.js"></script>
<script src="tornado_fatalities_predictor_files/libs/quarto-html/popper.min.js"></script>
<script src="tornado_fatalities_predictor_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="tornado_fatalities_predictor_files/libs/quarto-html/anchor.min.js"></script>
<link href="tornado_fatalities_predictor_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="tornado_fatalities_predictor_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="tornado_fatalities_predictor_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="tornado_fatalities_predictor_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="tornado_fatalities_predictor_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="tornado_fatalities_predictor_files/libs/kePrint-0.0.1/kePrint.js"></script>
<link href="tornado_fatalities_predictor_files/libs/lightable-0.0.1/lightable.css" rel="stylesheet">

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul class="collapse">
  <li><a href="#summary" id="toc-summary" class="nav-link active" data-scroll-target="#summary">Summary</a></li>
  <li><a href="#introduction" id="toc-introduction" class="nav-link" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#methods" id="toc-methods" class="nav-link" data-scroll-target="#methods">Methods</a>
  <ul class="collapse">
  <li><a href="#data-wrangling-and-cleaning" id="toc-data-wrangling-and-cleaning" class="nav-link" data-scroll-target="#data-wrangling-and-cleaning">Data wrangling and cleaning</a></li>
  <li><a href="#eda-descriptive-statistics-and-visualizations" id="toc-eda-descriptive-statistics-and-visualizations" class="nav-link" data-scroll-target="#eda-descriptive-statistics-and-visualizations">EDA: Descriptive statistics and visualizations</a></li>
  <li><a href="#model-selection-and-analysis" id="toc-model-selection-and-analysis" class="nav-link" data-scroll-target="#model-selection-and-analysis">Model selection and analysis</a></li>
  </ul></li>
  <li><a href="#discussion-and-results" id="toc-discussion-and-results" class="nav-link" data-scroll-target="#discussion-and-results">Discussion and Results</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="tornado_fatalities_predictor.pdf"><i class="bi bi-file-pdf"></i>PDF</a></li></ul></div></nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Predicting Fatalities from Tornado Data (Group 1)</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Erika Delorme, Marcela Flaherty, Riddha Tuladhar, Edwin Yeung </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="summary" class="level1">
<h1>Summary</h1>
<p>In our project, we attempt to build a multilinear regression model that will predict the number of fatalities from tornadoes using the features width (yards) and length (miles) of the tornado. We tested our multilinear regression model with and without outliers and compared differences in coefficients and RMSPE scores. Both models had low positive coefficients, suggesting a minimal yet positive impact on the prediction of tornado fatalities, and both had low RMSPE scores, suggesting a low amount of error in its predictions. The model without outliers had a lower RMSPE score, which is partly explained by the lack of outliers and thus making predictions on a smaller range, which reduces the error. Despite the limitations of our model, we believe that it can still have some utility in predicting tornado fatalities with little error. However, the model should be improved in the future before being deployed to improve the size of the coefficients and its predictive power. In the future, we may consider exploring other features in predicting fatalities, predicting the number of injuries from the same features, or even predicting the number of casualties (injuries and fatalities) from the same and additional features.</p>
</section>
<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>Tornadoes are a common type of natural disaster in the United States; in fact, the United States gets more tornadoes than any other country at over 1,150 thousand recorded every year <span class="citation" data-cites="Chinchar2022">(<a href="#ref-Chinchar2022" role="doc-biblioref">Chinchar 2022</a>)</span>. Furthermore, the United States has experienced many of the most violent tornadoes, with 59 of the 67 most violent tornadoes in recorded history taking place in the country <span class="citation" data-cites="StormPrediction">(<a href="#ref-StormPrediction" role="doc-biblioref">Storm Prediction Center 2023</a>)</span>. As such, the ability to predict the number of fatalities caused by these tornadoes based on their physical characteristics is desirable in order to employ preventative measures and reduce the number of casualties caused by these disasters.</p>
<p>This project will be using a data set from the US NOAA’s Storm Prediction Cente <span class="citation" data-cites="StormPrediction">(<a href="#ref-StormPrediction" role="doc-biblioref">Storm Prediction Center 2023</a>)</span>, which contains information on all tornadoes recorded in the United States from 1950 to 2022. For each tornado, the data set records many of its features, including but not limited to its length, width, the state in the US, the date and time it occurred, the number of fatalities and the number of injuries it caused, and the financial losses it incurred. Using this information, this project will use a multivariable linear regression to answer the question “How does the length and width of a tornado affect the number of fatalities it causes?”</p>
</section>
<section id="methods" class="level1">
<h1>Methods</h1>
<section id="data-wrangling-and-cleaning" class="level2">
<h2 class="anchored" data-anchor-id="data-wrangling-and-cleaning">Data wrangling and cleaning</h2>
<p>The R programming language <span class="citation" data-cites="R">(<a href="#ref-R" role="doc-biblioref">R Core Team 2022</a>)</span> and the following R packages were used to conduct our analysis: repr <span class="citation" data-cites="repr">(<a href="#ref-repr" role="doc-biblioref">Angerer 2023</a>)</span>, tidyverse <span class="citation" data-cites="Wickham2017">(<a href="#ref-Wickham2017" role="doc-biblioref">Wickham and RStudio 2017</a>)</span>, tidymodels <span class="citation" data-cites="Kuhn2023">(<a href="#ref-Kuhn2023" role="doc-biblioref">Kuhn et al. 2023</a>)</span>, psych <span class="citation" data-cites="Revelle2019">(<a href="#ref-Revelle2019" role="doc-biblioref">Revelle 2019</a>)</span>, and GGally <span class="citation" data-cites="Schloerke2020">(<a href="#ref-Schloerke2020" role="doc-biblioref">Schloerke 2020</a>)</span>.</p>
<p>The code used to perform the analysis and create this report can be found here: <a href="https://github.com/DSCI-310-2024/DSCI-310-Group-1-Predict-Fatalities-From-Tornado-Data/blob/main/src/tornado_fatalities_predictor.ipynb">https://github.com/DSCI-310-2024/DSCI-310-Group-1-Predict-Fatalities-From-Tornado-Data/blob/main/src/tornado_fatalities_predictor.ipynb</a>.</p>
<p>1.First, we load the necessary packages.</p>
<p>2.Then, we read in the data about tornadoes directly from the website.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<table class="table table-striped table-hover table-condensed table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">om</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">yr</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">mo</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">dy</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">date</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">time</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">tz</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">datetime_utc</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">st</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">stf</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">mag</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">inj</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">fat</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">loss</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">slat</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">slon</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">elat</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">elon</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">len</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">wid</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">ns</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">sn</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">f1</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">f2</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">f3</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">f4</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">fc</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">192</td>
<td style="text-align: right;">1950</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">1950-10-01</td>
<td style="text-align: left;">21:00:00</td>
<td style="text-align: left;">America/Chicago</td>
<td style="text-align: left;">1950-10-02T03:00:00Z</td>
<td style="text-align: left;">OK</td>
<td style="text-align: right;">40</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">5e+04</td>
<td style="text-align: right;">36.73</td>
<td style="text-align: right;">-102.52</td>
<td style="text-align: right;">36.88</td>
<td style="text-align: right;">-102.30</td>
<td style="text-align: right;">15.8</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">25</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">FALSE</td>
</tr>
<tr class="even">
<td style="text-align: right;">193</td>
<td style="text-align: right;">1950</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">9</td>
<td style="text-align: left;">1950-10-09</td>
<td style="text-align: left;">02:15:00</td>
<td style="text-align: left;">America/Chicago</td>
<td style="text-align: left;">1950-10-09T08:15:00Z</td>
<td style="text-align: left;">NC</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">5e+05</td>
<td style="text-align: right;">34.17</td>
<td style="text-align: right;">-78.60</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">2.0</td>
<td style="text-align: right;">880</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">47</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">FALSE</td>
</tr>
<tr class="odd">
<td style="text-align: right;">195</td>
<td style="text-align: right;">1950</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">20</td>
<td style="text-align: left;">1950-11-20</td>
<td style="text-align: left;">02:20:00</td>
<td style="text-align: left;">America/Chicago</td>
<td style="text-align: left;">1950-11-20T08:20:00Z</td>
<td style="text-align: left;">KY</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">5e+05</td>
<td style="text-align: right;">37.37</td>
<td style="text-align: right;">-87.20</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">177</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">FALSE</td>
</tr>
<tr class="even">
<td style="text-align: right;">196</td>
<td style="text-align: right;">1950</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">20</td>
<td style="text-align: left;">1950-11-20</td>
<td style="text-align: left;">04:00:00</td>
<td style="text-align: left;">America/Chicago</td>
<td style="text-align: left;">1950-11-20T10:00:00Z</td>
<td style="text-align: left;">KY</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">5e+05</td>
<td style="text-align: right;">38.20</td>
<td style="text-align: right;">-84.50</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">209</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">FALSE</td>
</tr>
<tr class="odd">
<td style="text-align: right;">197</td>
<td style="text-align: right;">1950</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">20</td>
<td style="text-align: left;">1950-11-20</td>
<td style="text-align: left;">07:30:00</td>
<td style="text-align: left;">America/Chicago</td>
<td style="text-align: left;">1950-11-20T13:30:00Z</td>
<td style="text-align: left;">MS</td>
<td style="text-align: right;">28</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">5e+04</td>
<td style="text-align: right;">32.42</td>
<td style="text-align: right;">-89.13</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">2.0</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">101</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">FALSE</td>
</tr>
<tr class="even">
<td style="text-align: right;">194</td>
<td style="text-align: right;">1950</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">1950-11-04</td>
<td style="text-align: left;">17:00:00</td>
<td style="text-align: left;">America/Chicago</td>
<td style="text-align: left;">1950-11-04T23:00:00Z</td>
<td style="text-align: left;">PA</td>
<td style="text-align: right;">42</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">5e+05</td>
<td style="text-align: right;">40.20</td>
<td style="text-align: right;">-76.12</td>
<td style="text-align: right;">40.40</td>
<td style="text-align: right;">-75.93</td>
<td style="text-align: right;">15.9</td>
<td style="text-align: right;">100</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">71</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">FALSE</td>
</tr>
</tbody>
</table>


</div>
</div>
</div>
<p>3.Next, we wrangle and clean the data. Firstly, we check for missing values in our cleaned data.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<table class="table table-striped table-hover table-condensed table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: right;" data-quarto-table-cell-role="th">x</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">om</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">yr</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">mo</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">dy</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">date</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">time</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">tz</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">datetime_utc</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">st</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">stf</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">mag</td>
<td style="text-align: right;">756</td>
</tr>
<tr class="even">
<td style="text-align: left;">inj</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">fat</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">loss</td>
<td style="text-align: right;">27170</td>
</tr>
<tr class="odd">
<td style="text-align: left;">slat</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">slon</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">elat</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">elon</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">len</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">wid</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ns</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">sn</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">f1</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">f2</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">f3</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">f4</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">fc</td>
<td style="text-align: right;">0</td>
</tr>
</tbody>
</table>


</div>
</div>
</div>
<p>We can see that there are no missing values, except for the feature <code>loss</code>, with 27,170 missing values and 756 missing values for the feature mag. The feature <code>loss</code> refers to the financial loss of each tornado. For our regression problem, we did not deem this feature to be an important feature. Therefore, we decide to remove this column.</p>
<p>Because there are not so many rows missing for the feature <code>mag</code>, we decide to filter those rows out.</p>
<p>4.Then, we remove irrelevant or repetitive columns and then filter for missing values of the column <code>mag</code>, which stands for magnitude. Then, we change the feature names to make them more descriptive. We show the top 6 rows of our cleaned data.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<table class="table table-striped table-hover table-condensed table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">ID</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">year</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">month</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">day</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">time</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">datetime_utc</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">state</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">mag</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">injuries</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">fatalities</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">start_lat</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">start_lon</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">end_lat</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">end_lon</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">length</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">width</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">ns</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">192</td>
<td style="text-align: right;">1950</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">21:00:00</td>
<td style="text-align: left;">1950-10-02T03:00:00Z</td>
<td style="text-align: left;">OK</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">36.73</td>
<td style="text-align: right;">-102.52</td>
<td style="text-align: right;">36.88</td>
<td style="text-align: right;">-102.30</td>
<td style="text-align: right;">15.8</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: right;">193</td>
<td style="text-align: right;">1950</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">9</td>
<td style="text-align: left;">02:15:00</td>
<td style="text-align: left;">1950-10-09T08:15:00Z</td>
<td style="text-align: left;">NC</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">34.17</td>
<td style="text-align: right;">-78.60</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">2.0</td>
<td style="text-align: right;">880</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: right;">195</td>
<td style="text-align: right;">1950</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">20</td>
<td style="text-align: left;">02:20:00</td>
<td style="text-align: left;">1950-11-20T08:20:00Z</td>
<td style="text-align: left;">KY</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">37.37</td>
<td style="text-align: right;">-87.20</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: right;">196</td>
<td style="text-align: right;">1950</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">20</td>
<td style="text-align: left;">04:00:00</td>
<td style="text-align: left;">1950-11-20T10:00:00Z</td>
<td style="text-align: left;">KY</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">38.20</td>
<td style="text-align: right;">-84.50</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: right;">197</td>
<td style="text-align: right;">1950</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">20</td>
<td style="text-align: left;">07:30:00</td>
<td style="text-align: left;">1950-11-20T13:30:00Z</td>
<td style="text-align: left;">MS</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">32.42</td>
<td style="text-align: right;">-89.13</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">2.0</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: right;">194</td>
<td style="text-align: right;">1950</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">17:00:00</td>
<td style="text-align: left;">1950-11-04T23:00:00Z</td>
<td style="text-align: left;">PA</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">40.20</td>
<td style="text-align: right;">-76.12</td>
<td style="text-align: right;">40.40</td>
<td style="text-align: right;">-75.93</td>
<td style="text-align: right;">15.9</td>
<td style="text-align: right;">100</td>
<td style="text-align: right;">1</td>
</tr>
</tbody>
</table>


</div>
</div>
</div>
<p>5.We split our data into two sets: <code>train_df</code> and <code>test_df</code>. <code>train_df</code> consists of 75% of our original data set and is used to train our regression model. The remaining 25% of our original data is <code>test_df</code>, which we use later to test the accuracy of our model at prediction.</p>
</section>
<section id="eda-descriptive-statistics-and-visualizations" class="level2">
<h2 class="anchored" data-anchor-id="eda-descriptive-statistics-and-visualizations">EDA: Descriptive statistics and visualizations</h2>
<p>6.Next, we create a summary table of features that could be useful to use in our regression model.</p>
<div class="cell">
<div id="tbl-num-feat" class="cell quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-num-feat-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;1: Summary table of numerical features.
</figcaption>
<div aria-describedby="tbl-num-feat-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="do-not-create-environment cell table table-sm table-striped small">
<colgroup>
<col style="width: 12%">
<col style="width: 5%">
<col style="width: 6%">
<col style="width: 13%">
<col style="width: 13%">
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 11%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: right;">vars</th>
<th style="text-align: right;">n</th>
<th style="text-align: right;">mean</th>
<th style="text-align: right;">sd</th>
<th style="text-align: right;">min</th>
<th style="text-align: right;">max</th>
<th style="text-align: right;">range</th>
<th style="text-align: right;">se</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">mag</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">50952</td>
<td style="text-align: right;">0.7814217</td>
<td style="text-align: right;">0.8959607</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">5.0000</td>
<td style="text-align: right;">5.0000</td>
<td style="text-align: right;">0.0039692</td>
</tr>
<tr class="even">
<td style="text-align: left;">injuries</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">50952</td>
<td style="text-align: right;">1.4762914</td>
<td style="text-align: right;">19.3663368</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">1740.0000</td>
<td style="text-align: right;">1740.0000</td>
<td style="text-align: right;">0.0857960</td>
</tr>
<tr class="odd">
<td style="text-align: left;">fatalities</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">50952</td>
<td style="text-align: right;">0.0916941</td>
<td style="text-align: right;">1.5975758</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">158.0000</td>
<td style="text-align: right;">158.0000</td>
<td style="text-align: right;">0.0070775</td>
</tr>
<tr class="even">
<td style="text-align: left;">start_lat</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">50952</td>
<td style="text-align: right;">37.1099379</td>
<td style="text-align: right;">5.1003232</td>
<td style="text-align: right;">17.7212</td>
<td style="text-align: right;">61.0200</td>
<td style="text-align: right;">43.2988</td>
<td style="text-align: right;">0.0225952</td>
</tr>
<tr class="odd">
<td style="text-align: left;">start_lon</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">50952</td>
<td style="text-align: right;">-92.7131385</td>
<td style="text-align: right;">8.6782524</td>
<td style="text-align: right;">-163.5300</td>
<td style="text-align: right;">-64.7151</td>
<td style="text-align: right;">98.8149</td>
<td style="text-align: right;">0.0384460</td>
</tr>
<tr class="even">
<td style="text-align: left;">end_lat</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">50952</td>
<td style="text-align: right;">22.8084368</td>
<td style="text-align: right;">18.5508885</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">61.0200</td>
<td style="text-align: right;">61.0200</td>
<td style="text-align: right;">0.0821834</td>
</tr>
<tr class="odd">
<td style="text-align: left;">end_lon</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">50952</td>
<td style="text-align: right;">-56.4335822</td>
<td style="text-align: right;">45.3795249</td>
<td style="text-align: right;">-163.5300</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">163.5300</td>
<td style="text-align: right;">0.2010385</td>
</tr>
<tr class="even">
<td style="text-align: left;">length</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">50952</td>
<td style="text-align: right;">3.5363974</td>
<td style="text-align: right;">8.4491601</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">217.8000</td>
<td style="text-align: right;">217.8000</td>
<td style="text-align: right;">0.0374311</td>
</tr>
<tr class="odd">
<td style="text-align: left;">width</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">50952</td>
<td style="text-align: right;">108.9442809</td>
<td style="text-align: right;">208.6282187</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">4400.0000</td>
<td style="text-align: right;">4400.0000</td>
<td style="text-align: right;">0.9242563</td>
</tr>
<tr class="even">
<td style="text-align: left;">ns</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">50952</td>
<td style="text-align: right;">1.0089692</td>
<td style="text-align: right;">0.0965440</td>
<td style="text-align: right;">1.0000</td>
<td style="text-align: right;">3.0000</td>
<td style="text-align: right;">2.0000</td>
<td style="text-align: right;">0.0004277</td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
<p>7.We create a correlation matrix to view the correlations between features related to <code>injuries</code> and <code>fatalities</code>.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-correlation-matrix" class="quarto-figure quarto-figure-center quarto-float anchored" data-fig-pos="t">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-correlation-matrix-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="tornado_fatalities_predictor_files/figure-html/fig-correlation-matrix-1.png" class="img-fluid figure-img" style="width:80.0%" data-fig-pos="t">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-correlation-matrix-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: Correlation matrix of important numeral features and target.
</figcaption>
</figure>
</div>
</div>
</div>
<p>From the correlation matrix, we observe that there are some small sized correlations between <code>fatalities</code> and other continuous features. For example, there is a correlation of <code>0.231</code> between <code>length</code> and <code>fatalities</code> and a correlation of <code>0.170</code> between <code>width</code> and <code>fatalities</code>.</p>
<p>There are also correlations between features that are not the target. For example, there is medium sized correlation of <code>0.439</code> between <code>length</code> and <code>mag</code> and a correlation of <code>0.417</code> between <code>width</code> and <code>mag</code>.</p>
<p>These small to medium correlations may suggest that these features could be useful in predicting fatalities.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-width" class="quarto-figure quarto-figure-center quarto-float anchored" data-fig-pos="t">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-width-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="tornado_fatalities_predictor_files/figure-html/fig-width-1.png" class="img-fluid figure-img" style="width:80.0%" data-fig-pos="t">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-width-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: Scatterplot of width (yards) of tornado and fatalities.
</figcaption>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div id="fig-length" class="quarto-figure quarto-figure-center quarto-float anchored" data-fig-pos="t">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-length-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="tornado_fatalities_predictor_files/figure-html/fig-length-1.png" class="img-fluid figure-img" style="width:80.0%" data-fig-pos="t">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-length-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3: Scatterplot of length (miles) of tornado and fatalities.
</figcaption>
</figure>
</div>
</div>
</div>
<p>Based on the correlation matrix, we decide to use <code>length</code> and <code>width</code> as features in our model as they are numerical unlike <code>mag</code>.</p>
</section>
<section id="model-selection-and-analysis" class="level2">
<h2 class="anchored" data-anchor-id="model-selection-and-analysis">Model selection and analysis</h2>
<p>8.As mentioned previously, our group has decided that we will use a linear regression model to predict tornado casualties. We will be using the variables <code>width</code> and <code>length</code> as our predictors. The former is a measure of the width of a tornado, while the latter is a measure of length. The units of measurements are yards and miles, respectively.</p>
<p>Now that we have our training data <code>train_df</code>, we can fit our linear regression model. We will first specify our model, and then proceed to fit our model and obtain the regression coefficients.</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>══ Workflow [trained] ══════════════════════════════════════════════════════════
Preprocessor: Recipe
Model: linear_reg()

── Preprocessor ────────────────────────────────────────────────────────────────
0 Recipe Steps

── Model ───────────────────────────────────────────────────────────────────────

Call:
stats::lm(formula = ..y ~ ., data = data)

Coefficients:
(Intercept)       length        width  
 -0.1183680    0.0367960    0.0007337  </code></pre>
</div>
</div>
<p>9.Now that we have our model, we can predict on the testing data <code>test_df</code> to assess how well it does.</p>
<div class="cell">
<div id="tbl-outliers" class="cell quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-outliers-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;2: Results from model with outliers.
</figcaption>
<div aria-describedby="tbl-outliers-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="do-not-create-environment cell table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">.metric</th>
<th style="text-align: left;">.estimator</th>
<th style="text-align: right;">.estimate</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">rmse</td>
<td style="text-align: left;">standard</td>
<td style="text-align: right;">1.0056770</td>
</tr>
<tr class="even">
<td style="text-align: left;">rsq</td>
<td style="text-align: left;">standard</td>
<td style="text-align: right;">0.0898357</td>
</tr>
<tr class="odd">
<td style="text-align: left;">mae</td>
<td style="text-align: left;">standard</td>
<td style="text-align: right;">0.2298536</td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
<p>10.We can visualize our linear regression model to get a better idea of how well it performs.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-model_viz" class="quarto-figure quarto-figure-center quarto-float anchored" data-fig-pos="t">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-model_viz-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="tornado_fatalities_predictor_files/figure-html/fig-model_viz-1.png" class="img-fluid figure-img" style="width:80.0%" data-fig-pos="t">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-model_viz-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4: Actual Number of Fatalities vs Predicted Number of Fatalities.
</figcaption>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div id="fig-widths_plot" class="quarto-figure quarto-figure-center quarto-float anchored" data-fig-pos="t">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-widths_plot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="tornado_fatalities_predictor_files/figure-html/fig-widths_plot-1.png" class="img-fluid figure-img" style="width:80.0%" data-fig-pos="t">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-widths_plot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;5: Fatalities vs Width Plot.
</figcaption>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div id="fig-length_plot" class="quarto-figure quarto-figure-center quarto-float anchored" data-fig-pos="t">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-length_plot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="tornado_fatalities_predictor_files/figure-html/fig-length_plot-1.png" class="img-fluid figure-img" style="width:80.0%" data-fig-pos="t">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-length_plot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;6: Fatalities vs Length Plot.
</figcaption>
</figure>
</div>
</div>
</div>
<p>Note there are clear outliers in the data, thus we will perform the same analysis after removing the outliers.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="tornado_fatalities_predictor_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="tornado_fatalities_predictor_files/figure-html/unnamed-chunk-18-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="tornado_fatalities_predictor_files/figure-html/unnamed-chunk-18-3.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Note that, as the majority of tornadoes cause no fatalities and thus removing these outliers will leave us with data only containing tornadoes that caused no death, we will not be filtering outliers for fatalities.</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>══ Workflow [trained] ══════════════════════════════════════════════════════════
Preprocessor: Recipe
Model: linear_reg()

── Preprocessor ────────────────────────────────────────────────────────────────
0 Recipe Steps

── Model ───────────────────────────────────────────────────────────────────────

Call:
stats::lm(formula = ..y ~ ., data = data)

Coefficients:
(Intercept)       length        width  
 -0.0022491    0.0048939    0.0001736  </code></pre>
</div>
</div>
<div class="cell">
<div id="tbl-outliers2" class="cell quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-outliers2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;3: Results from model without outliers.
</figcaption>
<div aria-describedby="tbl-outliers2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="do-not-create-environment cell table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">.metric</th>
<th style="text-align: left;">.estimator</th>
<th style="text-align: right;">.estimate</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">rmse</td>
<td style="text-align: left;">standard</td>
<td style="text-align: right;">0.1894697</td>
</tr>
<tr class="even">
<td style="text-align: left;">rsq</td>
<td style="text-align: left;">standard</td>
<td style="text-align: right;">0.0046463</td>
</tr>
<tr class="odd">
<td style="text-align: left;">mae</td>
<td style="text-align: left;">standard</td>
<td style="text-align: right;">0.0242242</td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div id="fig-new_fatal_model_viz" class="quarto-figure quarto-figure-center quarto-float anchored" data-fig-pos="t">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-new_fatal_model_viz-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="tornado_fatalities_predictor_files/figure-html/fig-new_fatal_model_viz-1.png" class="img-fluid figure-img" style="width:80.0%" data-fig-pos="t">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-new_fatal_model_viz-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;7: Actual Number of Fatalities vs Predicted Number of Fatalities.
</figcaption>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div id="fig-new_fatal_widths_plot" class="quarto-figure quarto-figure-center quarto-float anchored" data-fig-pos="t">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-new_fatal_widths_plot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="tornado_fatalities_predictor_files/figure-html/fig-new_fatal_widths_plot-1.png" class="img-fluid figure-img" style="width:80.0%" data-fig-pos="t">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-new_fatal_widths_plot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;8: Fatalities vs Width Plot.
</figcaption>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div id="fig-new_fatal_length_plot" class="quarto-figure quarto-figure-center quarto-float anchored" data-fig-pos="t">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-new_fatal_length_plot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="tornado_fatalities_predictor_files/figure-html/fig-new_fatal_length_plot-1.png" class="img-fluid figure-img" style="width:80.0%" data-fig-pos="t">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-new_fatal_length_plot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;9: Fatalities vs Length Plot.
</figcaption>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="discussion-and-results" class="level1">
<h1>Discussion and Results</h1>
<p>Our initial exploration of features width and length demonstrated a positive correlation with our target, fatalities. Length and fatalities show a correlation of <code>0.237</code>, whereas width and fatalities show a correlation of <code>0.174</code>. The values are small but illustrate a stronger positive relationship between length and fatalities.</p>
<p>Before constructing our model, we performed a 75/25 split on our data for reproducibility and validity.</p>
<p>From our multivariable linear regression model with the inclusion of outliers, we can write an equation of best fit: <span class="math display">\[
\text{Tornado fatalities} = 0.0367960 \times (\text{length of tornado}) + 0.0007337 \times (\text{width of tornado}) - 0.1183680
\]</span> The coefficients and intercept of the equation are positive but small demonstrating that our features <code>length</code> and <code>width</code> may not have a large impact on predicting tornado fatalities. This signifies that the features may not be leading to precise predictions. Our results follow our initial exploration of the data, where we saw small positive correlations.</p>
<p>On the other hand, we obtain an RMSPE score for this multivariable linear regression of <code>1.00567700</code> tornado fatalities (<a href="#tbl-outliers" class="quarto-xref">Table&nbsp;2</a>). This prediction error is very low, indicating that our model fits the data well and our predictions are more precise.</p>
<p>As noted in our analysis section, removing the outliers leaves us with tornadoes that cause no deaths. Nonetheless, we decided to keep the linear regression model without the outliers to observe if any differences were seen in the equation and RMSPE score.</p>
<p>The equation of best fit for our multilinear regression model without the outliers is: <span class="math display">\[
\text{Tornado fatalities} = 0.0048939 \times (\text{length of tornado}) + 0.0001736 \times (\text{width of tornado}) - 0.0022491
\]</span></p>
<p>Compared to the model including outliers, the coefficients and the intercept are much smaller, implying that these features have less of an impact on predicting tornado fatalities and are more likely to lead to less precise predictions.</p>
<p>The RMSPE score here is <code>0.189469674</code> tornado fatalities (<a href="#tbl-outliers2" class="quarto-xref">Table&nbsp;3</a>), suggesting that it makes fewer errors than the model with the outliers.</p>
<p>From <a href="#fig-widths_plot" class="quarto-xref">Figure&nbsp;5</a>, <a href="#fig-length_plot" class="quarto-xref">Figure&nbsp;6</a>, <a href="#fig-new_fatal_widths_plot" class="quarto-xref">Figure&nbsp;8</a>, and <a href="#fig-new_fatal_length_plot" class="quarto-xref">Figure&nbsp;9</a>, the plots from the model with the outliers seem more interpretable than the ones from the model without the outliers, as the slope is an almost flat one. On the other hand, by observing <a href="#fig-model_viz" class="quarto-xref">Figure&nbsp;4</a> and <a href="#fig-new_fatal_model_viz" class="quarto-xref">Figure&nbsp;7</a>, the plots showing the actual number of fatalities vs the predicted number of fatalities of both models, we can conclude that the reason why the model without the outliers has a lower RMSPE score is because the outliers were removed, thus making it easier to predict the fatalities that are more closely located than fatalities that are along a longer range.</p>
<p>Therefore, we can conclude that our model has a lower RMSPE score, which is preferable in a multilinear regression model. However, it also does not have very strong coefficients for predicting the number of fatalities.</p>
<p>In terms of expectations, given the small correlations that length and width have with the number of tornado fatalities, it is expected that our model does not have very large coefficients. In terms of the RMSPE score, we did not have an expectation as to how our model would perform. However, we did not expect the RMSPE score to be so low as typically if the coefficients are smaller, then they have less impact on the predictions and thus may lead to more erroneous predictions.</p>
<p>Despite the low coefficients of our model equations, the low RMSPE scores suggest that if this model were to be deployed to predict the number of fatalities from tornadoes in the U.S., then it may have the ability to predict them without so much error. Therefore, our model could have some utility in such aspects.</p>
<p>However, we believe that because of the limitations of our model, it would be interesting to observe the impact of using other features to predict the number of fatalities from tornadoes, such as <code>mag</code>. Furthermore, it could also be valuable to explore how well we could predict the number of injuries using the same features that we did, namely <code>length</code> and <code>width</code>. The total number of casualties (fatalities and injuries) could also be predicted using <code>length</code> and <code>width</code> and perhaps other features.</p>
</section>
<section id="references" class="level1 unnumbered">


</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-repr" class="csl-entry" role="listitem">
Angerer, Kluyver, P. 2023. <span>“Repr (1.1.6): Serializable Representations.”</span> CRAN. <a href="https://cran.r-project.org/package=repr">https://cran.r-project.org/package=repr</a>.
</div>
<div id="ref-Chinchar2022" class="csl-entry" role="listitem">
Chinchar, Allison. 2022. <span>“Here’s Why the US Has More Tornadoes Than Any Other Country.”</span> CNN. November 28, 2022. <a href="https://www.cnn.com/2022/11/28/weather/us-leads-tornado-numbers-tornado-alley-xpn/index.html">https://www.cnn.com/2022/11/28/weather/us-leads-tornado-numbers-tornado-alley-xpn/index.html</a>.
</div>
<div id="ref-Kuhn2023" class="csl-entry" role="listitem">
Kuhn, Max, Hadley Wickham, P. Software, and PBC. 2023. <em>Tidymodels (1.1.0): Easily Install and Load the "Tidymodels" Packages</em>. <a href="https://cran.r-project.org/package=tidymodels">https://cran.r-project.org/package=tidymodels</a>.
</div>
<div id="ref-R" class="csl-entry" role="listitem">
R Core Team. 2022. <em>R (4.3.2): A Language and Environment for Statistical Computing</em>. R Foundation for Statistical Computing. <a href="https://www.r-project.org/">https://www.r-project.org/</a>.
</div>
<div id="ref-Revelle2019" class="csl-entry" role="listitem">
Revelle, William. 2019. <em>Psych (2.3.3): Procedures for Psychological, Psychometric, and Personality Research</em>. <a href="https://cran.r-project.org/package=psych">https://cran.r-project.org/package=psych</a>.
</div>
<div id="ref-Schloerke2020" class="csl-entry" role="listitem">
Schloerke, Cook, B. 2020. <span>“GGally (2.1.2): Extension to "Ggplot2".”</span> CRAN. <a href="https://cran.r-project.org/package=GGally">https://cran.r-project.org/package=GGally</a>.
</div>
<div id="ref-StormPrediction" class="csl-entry" role="listitem">
Storm Prediction Center. 2023. <span>“F5 and EF5 Tornadoes of the United States - 1950-Present (SPC).”</span> Noaa.gov; NOAA’s National Weather Service. February 19, 2023. <a href="https://www.spc.noaa.gov/faq/tornado/f5torns.html">https://www.spc.noaa.gov/faq/tornado/f5torns.html</a>.
</div>
<div id="ref-Wickham2017" class="csl-entry" role="listitem">
Wickham, Hadley, and RStudio. 2017. <em>Tidyverse (2.0.0): Easily Install and Load the "Tidyverse"</em>. <a href="https://cran.r-project.org/package=tidyverse">https://cran.r-project.org/package=tidyverse</a>.
</div>
</div></section></div></main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>